### **План оптимизации верстки**

#### **Золотое правило №1: Строгое следование модульной концепции**

Агент должен **всегда** отдавать приоритет существующей архитектуре и дизайн-системе проекта.

- **Никакого хардкодинга:** Запрещено использовать "магические числа" (hardcoded values) для отступов, цветов, размеров шрифтов и т.д. Все значения для `gap`, `padding`, `margin`, `color` и других свойств должны браться **исключительно из файла `src/styles/variables.scss`**.
  - **Неправильно:** `gap: 30px;`
  - **Правильно:** `gap: $gap-md;` (где `$gap-md` — переменная из `variables.scss`).
- **Использование миксинов:** Если для какой-то задачи (например, центрирование) уже существует миксин в `_mixins.scss`, агент обязан использовать его, а не писать CSS-свойства вручную.

---

#### **Пояснение: Когда использовать `gap` (в Flex/Grid), а когда `margin`**

Это ключевой момент для создания чистой и предсказуемой верстки.

- **`gap` (для внутренних отступов):**

  - Используйте `gap` **внутри** одного компонента-контейнера (`display: flex` или `display: grid`) для создания **равномерных** отступов **между дочерними элементами**.
  - **Пример:** Сетка карточек услуг (`.services__list`). `gap` идеально подходит, чтобы задать одинаковое расстояние между всеми карточками.
  - **Вывод:** `gap` — это свойство **родительского** контейнера, которое управляет пространством **между** его детьми.

- **`margin` (для внешних отступов):**
  - Используйте `margin` для создания **внешних** отступов **вокруг целых компонентов или секций**, чтобы позиционировать их относительно друг друга на странице.
  - **Пример:** Отступ снизу у всей секции "Наши услуги" (`<section class="services">`) для ее отделения от следующей секции "Почему нам доверяют".
  - **Вывод:** `margin` — это свойство **самого элемента**, которое создает пространство **вокруг** него.

**Инструкция для агента:** При рефакторинге отступов **между элементами внутри одного блока** (например, карточками в сетке) — **заменить `margin` на `gap`** у родительского flex/grid контейнера. Отступы **между большими секциями** (`<section>`) — **оставить `margin`**.

---

### **Обновленный план рефакторинга**

#### **1. Модернизация раскладки (Flexbox & Grid)**

- **Секция "Наши услуги" (`.services__list`)**
  - **Задача:** Перейти на **CSS Grid**.
  - **Инструкция:**
    1.  Для `.services__list` установить `display: grid;`.
    2.  Установить `grid-template-columns: repeat(3, 1fr);`.
    3.  Установить `gap: $gap-lg;` (или другая подходящая переменная из `variables.scss`).
    4.  **Полностью удалить** `margin` и `flex-basis` у дочерних элементов `.services__item`.
- **Секция "Почему нам доверяют" (`.trust-section__item`)**
  - **Задача:** Использовать **Flexbox** для чередования блоков.
  - **Инструкция:**
    1.  Для `.trust-section__item` установить `display: flex;`, `align-items: center;`.
    2.  Установить `gap: $gap-xl;` (или другая подходящая переменная) для отступа между текстом и картинкой.
    3.  Добавить правило: `&:nth-child(even) { flex-direction: row-reverse; }`.
    4.  Убедиться, что HTML-структура для всех `.trust-section__item` одинакова.

#### **2. Оптимизация SCSS-архитектуры**

- **CSS Custom Properties:**
  - **Задача:** Продублировать ключевые SCSS-переменные в CSS-переменные.
  - **Инструкция:** В файле `globals.scss` внутри селектора `:root` создать CSS-переменные, используя значения из `_variables.scss` через интерполяцию. Например: `:root { --clr-accent: #{$clr-accent}; }`.
- **Адаптивная типографика с `clamp()`:**
  - **Задача:** Сделать размеры ключевых заголовков "резиновыми".
  - **Инструкция:** Для `h1`, `h2` использовать функцию `clamp()`. Минимальное и максимальное значения взять из существующих медиа-запросов или дизайн-макета. Например: `font-size: clamp(2rem, 4vw, 2.75rem);`.
- **Миксин для медиа-запросов:**
  - **Задача:** Централизовать управление брейкпоинтами.
  - **Инструкция:** Если еще не реализовано, создать `map` с брейкпоинтами в `_variables.scss` и миксин `@mixin breakpoint($key)` в `_mixins.scss` для их вызова. Перевести существующие медиа-запросы на использование этого миксина.

#### **3. Углубление компонентного подхода (React)**

- **Задача:** Выделить больше переиспользуемых UI-компонентов.
- **Инструкция:**
  1.  Создать компонент `<SectionTitle>` для всех заголовков `<h2>`.
  2.  Создать базовый компонент-обертку `<Card>`, который будет использоваться для карточек услуг, отзывов и транспорта. Он должен содержать общие стили (фон, тень, рамка, `padding`).
  3.  Проанализировать код на предмет других повторяющихся UI-паттернов (например, списки с иконками) и вынести их в отдельные компоненты.
