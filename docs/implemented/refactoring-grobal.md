### **Финальный рефакторинг проекта "Ритуальная служба Век"**

**Главная цель:** Привести кодовую базу проекта в эталонное состояние. Код должен быть чистым, строго типизированным, производительным, легко поддерживаемым и полностью оптимизированным для SEO, как для главного канала привлечения клиентов. Внешний вид и функциональность приложения не должны измениться.

#### **Этап 1: Аудит и рефакторинг файловой структуры**

**Задача:** Обеспечить максимальную понятность и логичность структуры проекта.

1.  **Проверка `src/components`:**
    - **Атомарность:** Убедись, что каждый компонент в этой папке является универсальным и переиспользуемым (UI-kit). Компоненты, специфичные для одной страницы, должны находиться в папке этой страницы.
    - **Структура:** Каждый компонент должен находиться в своей папке (например, `/Button/Button.jsx`, `/Button/Button.scss`), чтобы инкапсулировать его логику, стили и тесты.
2.  **Проверка `src/pages`:**
    - **Декомпозиция:** Если компонент страницы (например, `HomePage.jsx`) становится слишком большим (более 200-250 строк), разбей его на более мелкие, специфичные для этой страницы компоненты. Создай для них папку `src/pages/HomePage/components/`.
3.  **Проверка `src/assets`:**
    - **Организация:** Проверь, что все ассеты (шрифты, иконки, изображения) логически сгруппированы.
4.  **Константы и хелперы:**
    - Вынеси все константные данные (например, тексты для секций, элементы навигации) из компонентов в отдельный файл `src/constants/content.js`. Это очистит JSX и упростит управление контентом.
    - Убедись, что все вспомогательные функции находятся в `src/helpers` и не содержат бизнес-логики.

#### **Этап 2: Глубокий рефакторинг кода и архитектуры**

**Задача:** Привести код в соответствие с лучшими практиками, обеспечив его чистоту, модульность и минимум хардкодинга.

1.  **Полное искоренение хардкодинга:**
    - **SCSS:** Проведи глобальный поиск по всем `.scss` файлам. Любое значение (цвет, отступ, размер шрифта, `z-index`), которое не является переменной из `src/styles/variables.scss`, должно быть вынесено в переменные файла.
    - **JSX:** Проведи глобальный поиск по всем `.jsx` файлам. Любой текстовый контент, который не является частью UI (например, заголовки секций, описания), должен быть вынесен в `src/constants/content.js`.
2.  **Усиление компонентного подхода:**
    - **Аудит на переиспользование:** Проанализируй весь JSX. Найди повторяющиеся паттерны верстки. Например, если в нескольких местах используется блок "иконка + заголовок + текст", создай для него универсальный компонент `<FeatureItem icon={} title={} text={}>`.
    - **Унификация оберток:** Убедись, что все основные секции на странице используют единый компонент-обертку `<Section>` для консистентных отступов. Все карточные элементы должны использовать базовый компонент `<Card>`.
3.  **Оптимизация SCSS:**
    - **Современные подходы:** Проверь, что для сеток используется `Grid`, для выравнивания — `Flexbox` с `gap` (взятым из переменных).
    - **Миксины:** Проверь код на наличие повторяющихся групп CSS-свойств. Вынеси их в миксины в `_mixins.scss`. Например, миксин для стилизации плейсхолдеров в инпутах.
    - **Утилиты:** Проанализируй файл `utils.scss`. Он должен содержать только утилитарные классы (например, `.visually-hidden`), а не стили компонентов.
4.  **Чистота JavaScript/React кода:**
    - **Хуки:** Проверь использование хуков. Не должно быть избыточных `useState` или сложных `useEffect`. Логика, не связанная с рендерингом, должна быть вынесена за пределы компонента.
    - **Именование:** Все переменные, функции и компоненты должны быть названы ясно и однозначно.
    - **Комментарии:** Удали весь закомментированный код. Добавь комментарии только для сложной или неочевидной логики.

#### **Этап 3: Финальный аудит SEO и производительности**

**Задача:** Проверить все аспекты SEO и убедиться, что сайт максимально оптимизирован для быстрой загрузки и корректной индексации.

1.  **Проверка семантики и доступности (Accessibility):**
    - **Структура DOM:** Открой готовую страницу в браузере и с помощью DevTools проверь итоговую структуру. На странице должен быть только один `<h1>`. Иерархия заголовков `<h2>`, `<h3>` должна быть строгой и логичной.
    - **Атрибуты `alt`:** Проверь, что **абсолютно у всех** тегов `<img>` есть осмысленный, описательный `alt` атрибут.
    - **Интерактивные элементы:** Все кликабельные элементы должны быть либо ссылками (`<a>` с `href`), либо кнопками (`<button>`).
2.  **Аудит структурированных данных (Schema.org):**
    - **Валидация:** Скопируй JSON-LD скрипт из компонента `StructuredData.jsx`, вставь его в [валидатор Schema.org](https://validator.schema.org/) и убедись в отсутствии ошибок.
    - **Полнота:** Проверь, что разметка `FuneralService` и `LocalBusiness` содержит все необходимые поля, включая адрес, телефон, часы работы и `aggregateRating`, как того требует ТЗ для получения расширенного сниппета.
3.  **Проверка конфигурационных файлов:**
    - **`robots.txt` и `sitemap.xml`:** Убедись, что эти файлы находятся в папке `public` и корректно сконфигурированы.
    - **`index.html`:** Проверь наличие и корректность мета-тегов `title` и `description`, а также всех необходимых фавиконок для разных устройств.
4.  **Оптимизация производительности:**
    - **Изображения:** Убедись, что все растровые изображения (JPG, PNG) конвертированы в формат WebP для уменьшения размера. В коде должна быть реализована загрузка WebP с fallback на JPG/PNG для старых браузеров с помощью тега `<picture>`.
    - **Ленивая загрузка (Lazy Loading):** Все изображения, находящиеся за пределами первого экрана, должны загружаться с атрибутом `loading="lazy"`.
    - **Анализ бандла:** Используй инструмент вроде `rollup-plugin-visualizer` для анализа итогового JS-бандла.

Выполнение этого плана гарантирует, что проект будет не только соответствовать дизайну, но и станет надежным, быстрым и эффективным инструментом для привлечения клиентов.
