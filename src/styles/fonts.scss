// =================
// FONTS - Подключение шрифтов для проекта ритуальной службы "Век"
// Новая пара шрифтов: SangBleu Sunrise (заголовки) + Euclid Flex (текст)
// =================

@use "sass:map";

// Локальные лицензированные шрифты (SangBleu Sunrise + Euclid Flex)

// SangBleu Sunrise (заголовки)
@font-face {
  font-family: "SangBleu Sunrise";
  src: url("../assets/fonts/SangBleuSunrise-Regular.woff2") format("woff2");
  font-display: swap;
  font-weight: 400;
  font-style: normal;
}

// Euclid Flex (текст)
@font-face {
  font-family: "Euclid Flex";
  src: url("../assets/fonts/EuclidFlex-Light.woff2") format("woff2");
  font-display: swap;
  font-weight: 300;
  font-style: normal;
}

@font-face {
  font-family: "Euclid Flex";
  src: url("../assets/fonts/EuclidFlex-Regular.woff2") format("woff2");
  font-display: swap;
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Euclid Flex";
  src: url("../assets/fonts/EuclidFlex-Medium.woff2") format("woff2");
  font-display: swap;
  font-weight: 500;
  font-style: normal;
}

@font-face {
  font-family: "Euclid Flex";
  src: url("../assets/fonts/EuclidFlex-SemiBold.woff2") format("woff2");
  font-display: swap;
  font-weight: 600;
  font-style: normal;
}

@font-face {
  font-family: "Euclid Flex";
  src: url("../assets/fonts/EuclidFlex-Bold.woff2") format("woff2");
  font-display: swap;
  font-weight: 700;
  font-style: normal;
}

// ПЕРЕМЕННЫЕ ШРИФТОВ С ФОЛБЭКАМИ
// =================

// Основные шрифтовые семейства
$font-heading: "SangBleu Sunrise";
$font-body: "Euclid Flex", -apple-system, BlinkMacSystemFont, "Segoe UI", Arial,
  sans-serif;

// Дополнительные шрифты
$font-monospace: "Monaco", "Menlo", "Consolas", "Courier New", monospace;
$font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
  "Ubuntu", "Cantarell", sans-serif;

// ВЕСЫ ШРИФТОВ
// =================

// SangBleu Sunrise — доступен один вес (Regular)
$heading-weight-normal: 400;
$heading-weight-medium: 400;
$heading-weight-semibold: 400;
$heading-weight-bold: 400;

// Euclid Flex веса
$body-weight-light: 300;
$body-weight-normal: 400;
$body-weight-medium: 500;
$body-weight-semibold: 600;
$body-weight-bold: 700;

// РАЗМЕРЫ ШРИФТОВ ДЛЯ РАЗНЫХ УСТРОЙСТВ
// =================

// Базовые размеры (будут конвертированы в rem)
$font-sizes: (
  "xs": 12px,
  "sm": 14px,
  "base": 16px,
  "lg": 18px,
  "xl": 20px,
  "2xl": 24px,
  "3xl": 32px,
  "4xl": 40px,
  "5xl": 48px,
  "6xl": 64px,
  "7xl": 80px,
  "8xl": 96px,
);

// Адаптивные размеры заголовков
$heading-sizes: (
  // Ближе к референсу: H1 ~36–44px, H2 ~28–32px, H3 ~18–22px
  "h1":
    (
      "mobile": 40px,
      "tablet": 44px,
      "desktop": 44px,
    ),
  "h2": (
    "mobile": 28px,
    "tablet": 32px,
    "desktop": 32px,
  ),
  "h3": (
    "mobile": 20px,
    "tablet": 22px,
    "desktop": 22px,
  ),
  "h4": (
    "mobile": 18px,
    "tablet": 20px,
    "desktop": 20px,
  ),
  "h5": (
    "mobile": 16px,
    "tablet": 18px,
    "desktop": 18px,
  ),
  "h6": (
    "mobile": 14px,
    "tablet": 16px,
    "desktop": 16px,
  )
);

// ВЫСОТА СТРОК
// =================

$line-heights: (
  "none": 1,
  "tight": 1.2,
  "snug": 1.3,
  "normal": 1.5,
  "relaxed": 1.6,
  "loose": 1.8,
);

// МИКСИНЫ ДЛЯ ШРИФТОВ
// =================

// Миксин для заголовочного шрифта
@mixin heading-font($weight: $heading-weight-normal, $style: normal) {
  font-family: $font-heading;
  font-weight: $weight;
  font-style: $style;
  font-display: swap;
  letter-spacing: -0.02em;
}

// Миксин для основного шрифта
@mixin body-font($weight: $body-weight-normal, $style: normal) {
  font-family: $font-body;
  font-weight: $weight;
  font-style: $style;
  font-display: swap;
}

// Миксин для адаптивного размера заголовка
@mixin responsive-heading($level: "h2", $weight: $heading-weight-semibold) {
  @include heading-font($weight);

  $sizes: map.get($heading-sizes, $level);

  font-size: map.get($sizes, "mobile");
  line-height: map.get($line-heights, "tight");

  @include tablet-up {
    font-size: map.get($sizes, "tablet");
  }

  @include desktop {
    font-size: map.get($sizes, "desktop");
  }
}

// Миксин для размера шрифта с rem конвертацией
@mixin font-size($size-name) {
  $size: map.get($font-sizes, $size-name);
  font-size: $size;
}

// UTILITY КЛАССЫ ДЛЯ ШРИФТОВ (ТОЛЬКО ИСПОЛЬЗУЕМЫЕ)
// =================

// ОПТИМИЗАЦИЯ ЗАГРУЗКИ ШРИФТОВ
// =================

// Google Fonts не используются — локальные файлы загружаются через @font-face

// Фолбэк для случаев, когда шрифты не загрузились
@supports not (font-display: swap) {
  // Фолбэки внутри @supports не требуются
}
